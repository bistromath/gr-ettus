<?xml version="1.0"?>
<block>
  <name>RFNoC: Predistorter</name>
  <key>uhd_rfnoc_predistort</key>
  <import>import ettus</import>
  <make>ettus.rfnoc_predistort_cci(
    $taps,
    self.device3,
    #if $block_index()
    ${block_index},
    #else
    -1,
    #end if
    #if $device_index()
    ${device_index},
    #else
    -1,
    #end if
)
\# Set them twice just in case:
self.$(id).set_taps($taps)</make>
  <callback>set_taps($taps)</callback>

  <param>
    <name>Filter Taps</name>
    <key>taps</key>
    <value>[0, 256, 512, 768, 1024, 1280, 1536, 1792, 2048, 2304, 2560, 2816, 3072, 3328, 3584, 3840, 4096, 4352, 4608, 4864, 5120, 5376, 5632, 5888, 6144, 6400, 6656, 6912, 7168, 7424, 7680, 7936, 8192, 8448, 8704, 8960, 9216, 9472, 9728, 9984, 10240, 10496, 10752, 11008, 11264, 11520, 11776, 12032, 12288, 12544, 12800, 13056, 13312, 13568, 13824, 14080, 14336, 14592, 14848, 15104, 15360, 15616, 15872, 16128, 16384, 16640, 16896, 17152, 17408, 17664, 17920, 18176, 18432, 18688, 18944, 19200, 19456, 19712, 19968, 20224, 20480, 20736, 20992, 21248, 21504, 21760, 22016, 22272, 22528, 22784, 23040, 23296, 23552, 23808, 24064, 24320, 24576, 24832, 25088, 25344, 25600, 25856, 26112, 26368, 26624, 26880, 27136, 27392, 27648, 27904, 28160, 28416, 28672, 28928, 29184, 29440, 29696, 29952, 30208, 30464, 30720, 30976, 31232, 31488, 31744, 32000, 32256, 32512]</value>
    <type>int_vector</type>
  </param>

  <param>
    <name>FIR Select</name>
    <key>block_index</key>
    <value>-1</value>
    <type>int</type>
    <hide>#if int($block_index()) &lt; 0 then 'part' else 'none'#</hide>
    <tab>RFNoC Config</tab>
  </param>

  <param>
    <name>Device Select</name>
    <key>device_index</key>
    <value>-1</value>
    <type>int</type>
    <hide>#if int($device_index()) &lt; 0 then 'part' else 'none'#</hide>
    <tab>RFNoC Config</tab>
  </param>

  <sink>
    <name>in</name>
    <type>complex</type>
    <domain>rfnoc</domain>
  </sink>

  <source>
    <name>out</name>
    <type>complex</type>
    <domain>rfnoc</domain>
  </source>
</block>
